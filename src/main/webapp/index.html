<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Le Vin</title>
    
<!-- Place favicon.ico in the root directory -->
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
<link rel="apple-touch-icon" href="apple-touch-icon.png">

<!-- css 파일 -->
<!-- Bootstrap fremwork main css -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- Owl Carousel main css -->
<link rel="stylesheet" href="css/owl.carousel.min.css">
<link rel="stylesheet" href="css/owl.theme.default.min.css">
<!-- This core.css file contents all plugings css file. -->
<link rel="stylesheet" href="css/core.css">
<!-- Theme shortcodes/elements style -->
<link rel="stylesheet" href="css/shortcode/shortcodes.css">
<!-- Theme main style -->
<link rel="stylesheet" href="style.css">
<!-- Responsive css -->
<link rel="stylesheet" href="css/responsive.css">
<!-- 공통 함수 -->
<script src="js/common/Utils.js"></script>
<!-- 커스텀 css -->
<link rel="stylesheet" href="css/custom/index.css">

<!-- Modernizr JS -->
<script src="js/modernizr-2.8.3.min.js"></script>

</head>
<body>
<!-- 헤더 -->
<header id="header" class="htc-header header--3 bg__white">
  <!-- Start Mainmenu Area -->
  <div id="sticky-header-with-topbar" class="mainmenu__area sticky__header">
    <div class="container">
      <div class="row">
        <div class="col-md-2 col-lg-2 col-sm-2 col-xs-2">
          <div class="logo">
            <a href="index.html">
              <!-- 로고 사진 -->
              <img src="images/logo/logo.png" alt="logo">
            </a>
          </div>
        </div>
        <!-- 네비게이션 -->
        <div class="col-md-6 col-lg-6 col-sm-4 col-xs-4">
          <nav class="mainmenu__nav hidden-xs hidden-sm">
            <ul class="main__menu">
              <li class="drop"><a href="blog.html">1:1 문의</a></li>
              <li class="drop"><a href="components/item.html" id="item">와인찾기</a></li>
              <li class="drop"><a href="#">빠른검색</a>
                <ul class="dropdown">
                  <li><a href="#" onclick="fnMove('redwine')">레드와인</a></li>
                  <li><a href="#" onclick="fnMove('whitewine')">화이트와인</a></li>
                </ul>
              </li>
              <li class="drop"><a href="#" onclick="fnMove('information')">안내사항</a></li>
            </ul>
          </nav>
          <!-- 모바일 환경 -->
          <div class="mobile-menu clearfix visible-xs visible-sm">
            <nav id="mobile_dropdown">
              <ul>
                <li class="drop"><a href="blog.html">1:1 문의</a></li>
                <li class="drop"><a href="components/item.html" id="item">와인찾기</a></li>
                <li class="drop"><a href="#">빠른검색</a>
                  <ul class="dropdown">
                    <li><a href="#" onclick="fnMove('redwine')">레드와인</a></li>
                    <li><a href="#" onclick="fnMove('whitewine')">화이트와인</a></li>
                  </ul>
                </li>
                <li class="drop"><a href="#" onclick="fnMove('information')">안내사항</a></li>
              </ul>
            </nav>
          </div>                          
        </div>
        <!-- 네이게이션 아이콘(검색, 로그인, 장바구니) -->
        <div class="col-md-4 col-sm-4 col-xs-4">  
          <ul class="menu-extra">
          	<li id="user" class="drop" style="display: none"></li>
            <li class="search search__open hidden-xs"><span class="ti-search"></span></li>
            <li><a href="components/login_register.html" id="login_register"><span class="ti-user"></span></a></li>
            <li class="cart__menu"><span class="ti-heart"></span></li>
            <li class="toggle__menu hidden-xs hidden-sm"><span class="ti-menu"></span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>
    
<div class="offset__wrapper">
  <!-- 검색창 -->
  <div class="search__area">
    <div class="container" >
      <div class="row" >
        <div class="col-md-12" >
          <div class="search__inner">
            <!-- 검색폼 -->
            <form action="#" method="get">
              <input placeholder="Search here... " type="text">
              <button type="submit"></button>
            </form>
          <div class="search__close__btn">
            <span class="search__close__btn_icon"><i class="zmdi zmdi-close"></i></span>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
        
  <!-- 오른쪽 메뉴버튼 -->
  <div class="offsetmenu">
    <div class="offsetmenu__inner">
      <div class="offsetmenu__close__btn">
        <a href="#"><i class="zmdi zmdi-close"></i></a>
      </div>
      <div class="off__contact">
        <!-- 로고 -->
        <div class="logo">
          <a href="index.html">
            <img src="images/logo/logo.png" alt="logo">
          </a>
        </div>
        <p>Lorem ipsum dolor sit amet consectetu adipisicing elit sed do eiusmod tempor incididunt ut labore.</p>
      </div>
      <ul class="sidebar__thumd">
        <li><a href="#"><img src="images/sidebar-img/1.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/2.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/3.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/4.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/5.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/6.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/7.jpg" alt="sidebar images"></a></li>
        <li><a href="#"><img src="images/sidebar-img/8.jpg" alt="sidebar images"></a></li>
      </ul>
      <div class="offset__widget">
        <div class="offset__single">
          <h4 class="offset__title">Language</h4>
          <ul>
            <li><a href="#"> Engish </a></li>
            <li><a href="#"> French </a></li>
            <li><a href="#"> German </a></li>
          </ul>
        </div>
        <div class="offset__single">
          <h4 class="offset__title">Currencies</h4>
          <ul>
            <li><a href="#"> USD : Dollar </a></li>
            <li><a href="#"> EUR : Euro </a></li>
            <li><a href="#"> POU : Pound </a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
        
  <!-- 장바구니 -->
  <div class="shopping__cart">
    <div class="shopping__cart__inner">
      <div class="offsetmenu__close__btn">
        <a href="#"><i class="zmdi zmdi-close"></i></a>
      </div>
      <div class="shp__cart__wrap">
      </div>
      <ul class="shoping__total">
        <li class="subtotal">총 금액:</li>
        <li class="total__price"></li>
      </ul>
      <ul class="shopping__btn">
        <li class="shp__checkout"><a id="goToPurchase" href="components/cart.html">구매하기</a></li>
      </ul>
    </div>
  </div>
</div>

<!-- 메인 div -->
<div class="wrapper fixed__footer"></div>

<!-- 푸터 -->
<footer class="htc__foooter__area gray-bg">
  <div class="container">
    <!-- Copyright -->
    <div class="htc__copyright__area">
      <div class="row">
        <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
          <div class="copyright__inner">
            <div class="copyright">
              <p>© 2018 <a href="#">Le-vin</a> All Right Reserved.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- JS 파일 -->
<!-- jquery latest version -->
<script src="js/jquery-1.12.0.min.js"></script>
<!-- Bootstrap framework js -->
<script src="js/bootstrap.min.js"></script>
<!-- All js plugins included in this file. -->
<script src="js/plugins.js"></script>
<script src="js/slick.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<!-- Waypoints.min.js. -->
<script src="js/waypoints.min.js"></script>
<!-- 컴포넌트를 동적으로 추가하는 Router.js -->
<script src="js/custom/router.js"></script>
<!-- 쿠키를 설정하는 자바스크립트 파일 -->
<!-- 공통 함수 -->
<script src="js/common/Utils.js"></script>
<script src="js/common/cookie.js"></script>
<!-- 장바구니 관련 자바스크립트 파일 -->
<script src="js/custom/cart.js"></script>
<!-- 로그아웃 -->
<script>
$(function() {
	
	$(document).on('click', '#user', function(event) {
		setCookie('email', '', -1);
		location.reload();
	})
});
</script>
<!-- 장바구니에서 구매로 이동하는 처리 -->
<script>
$(function(){

	$('#goToPurchase').click(function(event){
  		var cartItems = [];
  		
  		// 장바구니 내 모든 아이템을 javascript 처리 가능한 객체로 변환
  		var targetItems = $('.shp__single__product');
		for (var i = 0; i < targetItems.length; i++) {
			var targetItem = targetItems[i];
			cartItems.push(createCartItemFromTags(targetItem, 'cart'));
		}
		
      		
		route(event, '#' + $(this).attr('id'), '.fixed__footer', function(data){
			for ( var index in cartItems) {
				var item = cartItems[index];
				var subTotal = getTotalPrice(item[cartIndexes.indexOf('quantity')], item[cartIndexes.indexOf('price')]);
				item.push(subTotal.toLocaleString());
        		var itemToAppend = 
        			'<tr class="product">' +
        			  '<input type="hidden" id="productId" value="###' + cartIndexes.indexOf('productId') +'###" >' +
                  	  '<td class="product-thumbnail">' +
	      				'<img src="###' + cartIndexes.indexOf('imagePath') + '###" alt="product img" />' + 
        			  '</td>' + 
                  	  '<td class="product-name">' + 
                  	  	'###' + cartIndexes.indexOf('productName') + '###' + 
                  	  '</td>' +
                  	  '<td class="product-price">' + 
                  	  	'<span class="amount">###' + cartIndexes.indexOf('price') + '###</span>' + 
                  	  '</td>' + 
                  	  '<td class="product-quantity">' + 
                  	  	'<input type="number" value="###' + cartIndexes.indexOf('quantity') + '###" />' + 
                  	  '</td>' +
                  	  '<td class="product-subtotal">###' + cartIndexes.length + '###원</td>' +
                  	  '<td class="product-remove"><a href="#">X</a></td>' +
              		'</tr>';
              	  for (var i = 0; i < item.length + 1; i++) {
              		  
      				var regExp = new RegExp('###' + i + '###', 'gm');
      				itemToAppend = itemToAppend.replace(regExp, item[i]);
              	  }
              	  $('.table-responsive tbody').append(itemToAppend);
			}
			printCartTotal();
			
		});
	});
	
});
</script>
</body>
</html>